# 小程序基础知识点

## 一、小程序项目的结构

### 1、pages

pages文件夹是小程序的页面，一个子文件夹代表一个页面；

一个子文件夹下默认有四个文件：js文件、json文件、wxml文件、wxss文件。

​	js文件：小程序页面的逻辑层

​	json文件：小程序页面的配置

​	wxml文件：小程序页面骨架，相当于web前端中的html文件

​	wxss文件：小程序页面样式，相当于web前端中的css文件

### 2、utils

utils文件夹可以用来存放小程序的公用方法，是一个工具文件，通过module.exports将方法导出，提供给其他页面使用

### 3、app.js

小程序主要逻辑层，用来注册小程序，一定要有。

通过App()这个方法注册小程序，在其他页面可以通过getApp()这个方法来获取应用实例。

举个栗子：

```js
// app.js文件代码
App({
    globalData: {
		userInfo: 'balabala'
    }
})
// 在其他页面的js文件中
const app = getApp()
// 通过 app.globalData.userInfo可以获取到app.js文件中的数据
```

### 4、app.json

小程序的公共配置，一定要有

```json
{
  // pages代表小程序页面路由，我们可以在这里配置页面，排在第一个的路由代表启动小程序时的初始页面
  "pages":[
    "pages/index/index",
    "pages/logs/logs"
  ],
  // window主要是用来配置窗口的信息及样式
  "window":{
    "backgroundTextStyle":"light",
    "navigationBarBackgroundColor": "#fff",
    "navigationBarTitleText": "Weixin",
    "navigationBarTextStyle":"black"
  },
  "style": "v2",
  "sitemapLocation": "sitemap.json" // 站点文件，主要写小程序的一些索引，方便微信搜索，提高曝光率
}
```

小程序页面中的json文件配置会覆盖掉这些公共的配置

### 5、app.wxss

小程序的公共样式，可有可无

小程序页面中的wxss文件配置会覆盖掉这些公共的样式

### 6、project.config.json

项目配置文件，新建项目时自动生成，自动写好，一般不需要去修改它

### 如何新建一个页面

首先，在pages文件夹下新建一个文件夹，用来表示需要新建的页面，鼠标右击新建的文件夹，选择新建Page，自动生成页面默认所需的四个文件

然后，在app.json文件中的pages添加新建页面的路径

## 二、小程序标签样式

### 标签

#### 1、view

小程序中没有div、span等标签，它的view标签就相当于web前端中的div标签

#### 2、text

### 样式

#### 1、自适应尺寸单位rpx

可以根据屏幕宽度自适应，规定屏幕宽度为750px

<img src="D:\GitHubRepository\小程序\小程序基础知识.assets\image-20210113154836616.png" alt="image-20210113154836616" style="zoom:50%;" />



## 三、小程序生命周期

### 1、onLaunch

监听小程序初始化

### 2、onShow

监听小程序启动或者切前台的操作

### 3、onHide

监听小程序切后台的操作

### 4、onError

错误监听函数，当小程序发生错误时触发

### 5、onPageNotFound

页面不存在监听函数，当页面不存在时触发

## 四、小程序页面的生命周期

### 1、onLoad

监听页面加载，当页面加载完成后触发

### 2、onShow

监听页面显示，当页面显示出来时触发

### 3、onReady

监听页面初次渲染完成，当页面渲染完成后触发

### 4、onHide

监听页面隐藏，切后台或者切换到其他页面均会触发这个函数

### 5、onUnload

监听页面卸载，关闭当前页面时触发

### **注意**

每个页面的onLoad、onReady函数只会触发一次，此后即使跳转到其他页面再跳转回来，也不会再次触发

